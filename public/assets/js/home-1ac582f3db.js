{let t=function(){let t=$("#home-post-form");t.submit((function(s){s.preventDefault(),$.ajax({type:"post",url:"/post/create",data:t.serialize(),success:function(t){let s=o(t.data.post,t.data.username);$("#Post-container>ul").prepend(s),n(t.type,t.text),l($(" .delete-post-button",s)),e($(" .like",s)),new PostComments(t.data.post._id),new ToggleLike($(" .toggle-like-button",s))},error:function(t){console.log("error",t.responseText)}})}))},e=function(t){let e=$(" .like-button",t),n=$(" span",t);$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(t){console.log(t),$(n)[0].innerHTML=t.data.numberLikes},error:function(t){console.log("Error in ajax call",t.responseText)}})}))},n=function(t,e){new Noty({theme:"relax",text:e,type:t,layout:"topRight",timeout:1500}).show()},o=function(t,e){return $(`\n                <li id="post-${t._id}" >\n                    \n                                              \n                    <div class="Post-Container_">\n                        \n                        \n                        \n                        \n                            <small>\n                                <a class="delete-post-button" href="/post/delete/${t._id}" >X</a>\n                            </small>\n\n                            <small>\n                            \n                                <a class="toggle-like-button" data-likes="0" href="/like/toggle?id=${t._id}&type=Post">\n                                    0 Likes\n                                </a>\n                            \n                        </small>\n                        \n                         \n                        <p>${t.content}</p>\n                        <small>${e}</small>\n                    </div>\n                    <div class="Comment-container" >\n        \n                        <form  id="post-${t._id}-comment-form" action="/comment/create?id=${t._id}" method="post">\n                            <input type="text" name="content" placeholder="Add a Comment" required >\n                            <input type="submit" value="comment" > \n                        </form>\n                    </div>\n        \n                    <div class="comments-display" >\n                        <ul id="post-comments-${t._id}">\n                            \n                        </ul>\n                    </div>\n                </li>    \n        `)},l=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){console.log(t),$("#post-"+t.data.postId).remove(),n(t.type,t.text)},error:function(t){console.log(t.responseText)}})}))},s=function(){$("#Post-container>ul>li").each((function(){let t=$(this),n=$(" .delete-post-button",t);l(n);let o=$(" .like",t);e(o);let s=t.prop("id").split("-")[1];new PostComments(s)}))};t(),s()}